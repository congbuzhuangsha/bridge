(function(){function a(e){var d=document.createElement("script");d.src=e;d.type="text/javascript";document.body.appendChild(d)}(function(){a("config.js")})();var b={inAjax:function(){return true},outAjax:function(){},servers:{}};function c(){this.getConfig=function(){return b}}c.prototype.init=function(f){for(var d in f){b[d]=f[d]}var g=window.location.protocol+"//"+window.location.host;b.servers.local={hostName:g,cross:false,root:b.root};for(var e=0;e<b.script.tmlist.length;e++){a(b.script.tmlist[e])}};c.prototype.replaceAll=function(f,d,e){if(f.indexOf(d)<0){return f}else{return arguments.callee(f.replace(d,e),d,e)}};c.prototype.formateDate=function(f,h){f=objBridge.replaceAll(f+"","-","/");f=new Date(f);var g=f.getFullYear();var e=f.getMonth()+1;var d=f.getDate();if(e<10){e="0"+e}if(d<10){d="0"+d}if(!h||h==1){return g+"-"+e+"-"+d}else{if(h==2){return g+"年"+e+"月"+d+"日"}else{if(h==3){return g+"/"+e+"/"+d}}}};c.prototype.getDateElement=function(j,i){var g,e,h;j=new Date(j);if(i=="yyyy"){return j.getFullYear()}else{if(i=="M"){return f()}else{if(i=="MM"){g=f();return g<10?("0"+g):g}else{if(i=="d"){return d()}else{if(i=="dd"){e=d();return e<10?("0"+e):e}else{if(i=="weekIndex"){return j.getDay()}else{if(i=="weekName"){h=["周日","周一","周二","周三","周四","周五","周六"];return h[j.getDay()]}}}}}}}function d(){return j.getDate()}function f(){return j.getMonth()+1}};c.prototype.inArray=function(d,g){try{if(!(d instanceof Array)){throw new Error("请传入数组")}for(var f in d){if(d[f]===g){return true}}return false}catch(h){alert("inArray:>>"+h.message);console.error("inArray:>>"+h.message)}};c.prototype.sameArray=function(k,e){var d=k.length;var h=e.length;var g=0;var m=[];if(arguments[2]){m=arguments[2]}for(var l=0;l<d;l++){for(var f=0;f<h;f++){if(k[l]===e[f]){m.push(k[l]);k.splice(l,1);e.splice(f,1);g++;break}}if(g>0){break}}if(g>0){return arguments.callee(k,e,m)}else{if(g==0){return m}}};c.prototype.url=function(g,k){if(!g){console.error("urlResolve缺乏name参数");return""}var f=k?k:window.location.href;var l;if(g.indexOf(":")>-1){l=g.split(":");g=l[0];l=l[1]}var j=function(){if(k){return"?"+f.split("?")[1]}else{return window.location.search}};var e=function(){return j().substr(1)};var d=function(){var m=f.split("?")[0].split("/");var h=m.length;return m[h-1]};var i=function(o){var p=e();if(!p){return null}var r={};var q=p.split("&");var m=q.length;var r={};var h=[];for(var n=0;n<m;n++){h=q[n].split("=");r[h[0]]=h[1]}if(o){return r[o]?r[o]:""}else{return r}};if(g==="href"){return f}else{if(g==="search"){return j()}else{if(g==="searchNo?"){return e()}else{if(g==="pathname"){if(k){return""}else{return window.location.pathname}}else{if(g==="port"){if(k){return""}else{return window.location.port}}else{if(g==="protocol"){if(k){if(f.indexOf("http:")>0){return"http:"}else{if(f.indexOf("https:")>0){return"https:"}else{return""}}}else{return window.location.protocol}}else{if(g==="host"){if(k){return""}else{return window.location.host}}else{if(g==="hash"){if(k){return f.substr(f.indexOf("#"))}else{return window.location.hash}}else{if(g==="hashNo#"){if(k){return f.substr(f.indexOf("#")+1)}else{return window.location.hash.substr("1")}}else{if(g==="pageName"){return d().split(".")[0]}else{if(g==="extName"){return d().split(".")[1]}else{if(g==="param"){return i(l?l:"")}else{console.error("urlResolve未匹配到你要获取的参数");return""}}}}}}}}}}}}};window.bg=new c();return;(function(g,f){if(g==null){throw new Error("bridge出错了:没有找到jQuery或Zepto库.")}function e(j){var i=typeof j;if(i=="object"){}else{if(i=="string"&&j){j=b.servers[j]}else{j=b.servers.local}}return j}function d(k,i){k=e(k);var j=k.cross;if(typeof i=="undefined"||i==false){return 3}else{if(i==true){if(j==true){return 1}else{return 2}}}}function h(k,j,l){l=e(l);var i="";if(k===1){i=l.hostName+"/"+l.root+"/"}else{if(k===2){if(l.root==""){i=l.hostName+"/"}else{i="/"+l.root+"/"}}else{if(k===3){if(b.view){i="/"+b.root+"/"+b.view+"/"}else{i="/"+b.root+"/"}}}}return i+j}f.getHttpUrl=function(k,i,l){var j=d(k,l);return h(j,i,k)};f.load=function(l,j,m,n){if(!this.getConfig().inAjax()){return}if(!(l instanceof g)){throw new Error("load的第一个参数obj不是jQuery对象.")}var k,i,j;k=typeof m;if(k==="function"){n=m;m="undefined"}else{if(k==="object"){m.cross=true;i=d(m.server,true);j=h(i,j,m.server)}else{if(k==="undefined"){j=h(3,j,"")}}}l.load(j,m,n)};f.post=function(j,m,n,l){if(!this.getConfig().inAjax()){return}var k=typeof m;var i;if(k==="function"){l=l||n;n=m;m={}}m.cross=true;j=h(d(m.server,true),j,m.server);g.post(j,m,n,l)};f.get=function(j,m,o,l){if(!this.getConfig().inAjax()){return}var i,j;var k=typeof m;var n="";if(k==="function"){l=l||o;o=m;m="undefined";k=typeof m}if(k==="object"){i=d(m.server,m.cross);n=m.server}else{if(k==="undefined"){i=3}else{throw new Error("get请求的参数判断异常")}}j=h(i,j,n);g.get(j,m,o,l)};f.getJSON=function(i,j,k){if(!this.getConfig().inAjax()){return}objBridge.get(i,j,k,"json")};f.getScript=function(i,j){if(!this.getConfig().inAjax()){return}objBridge.get(i,"undefined",j,"script")};f.ajax=function(i){if(!this.getConfig().inAjax()){return}var j;if(typeof i==="string"){i={type:"get",url:i}}i.url=h(d(i.server,i.cross),i.url,i.server);g.ajax(i)}})(jQuery,bg)})();